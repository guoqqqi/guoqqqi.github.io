---
title: js å¯¹è±¡æ•°ç»„å»é‡
date: 2022-05-10
---

## èƒŒæ™¯

æœ€è¿‘å·¥ä½œä¸­ï¼Œé‡åˆ°äº†ä¸€ä¸ªå¾ˆç»å…¸çš„é—®é¢˜ï¼Œæ•°ç»„å»é‡ï¼Œå› ä¸ºå‰æ®µæ—¶é—´å¸¦äº†å‡ ä¸ªæœ‹å‹å¼€å§‹å­¦ä¹  Webï¼Œå‘ç°æœ€åˆè‡ªå·±å¼€å§‹å­¦ä¹ çš„æ—¶å€™å¾ˆå¤šæŠ€æœ¯ç»†èŠ‚éƒ½æ²¡æœ‰è®°å½•ä¸‹æ¥ï¼Œä»Šå¤©åˆšå¥½åˆé‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œäºæ˜¯èµ¶ç´§éšæ‰‹è®°ä¸‹æ¥ã€‚

## js å¯¹è±¡æ•°ç»„å»é‡æ–¹æ³•

æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸è®ºæ˜¯æ¥å£è¿”å›ç»™æˆ‘ä»¬çš„æ•°æ®ï¼Œè¿˜æ˜¯æˆ‘ä»¬è‡ªå·±åˆ›é€ çš„æ•°æ®ï¼Œéš¾å…ä¼šé‡åˆ°æœ‰é‡å¤çš„æƒ…å†µï¼Œä¸‹é¢ä»‹ç»ä¸¤ç§ç®€å•çš„æ–¹æ³•ï¼š

å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰è¿™æ ·çš„ arr å¯¹è±¡æ•°ç»„ï¼š

```tsx
  const arr = [
    {
      id: "1",
      pId: "0",
      title: "A",
    }, {
      id: "2",
      pId: "0",
      title: "B",
    }, {
      id: "3",
      pId: "0",
      title: "C",
    }, {
      id: "3",
      pId: "0",
      title: "C",
    },
  ]
```

1. é€šè¿‡ Es6 new Set() å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•æ¥å»é‡

```tsx
  const res = new Map();
  console.log(arr.filter((arr) => !res.has(arr.id) && res.set(arr.id)));
  // [
  //   {
  //     id: "1",
  //     pId: "0",
  //     title: "A",
  //   }, {
  //     id: "2",
  //     pId: "0",
  //     title: "B",
  //   }, {
  //     id: "3",
  //     pId: "0",
  //     title: "C",
  //   },
  // ]
```

2. ä½¿ç”¨ reduce æ–¹æ³•

```tsx
  const hash = {};
  const newArr = arr.reduce((pre, next) => {
    if (!hash[next.id]) {
      hash[next.id] = pre.push(next);
    }
    return pre;
  }, []);
  console.log('newArr: ', newArr);
//   newArr: 
//   [
//     {
//         "id": "1",
//         "pId": "0",
//         "title": "A"
//     },
//     {
//         "id": "2",
//         "pId": "0",
//         "title": "B"
//     },
//     {
//         "id": "3",
//         "pId": "0",
//         "title": "C"
//     }
//   ]
```

å¯¹äºæ™®é€šçš„æ•°ç»„å»é‡ï¼Œåœ¨è¿™é‡Œå°±è®°å½•ä¸€ä¸‹æœ€æ–¹ä¾¿çš„æ–¹æ³•æŠŠï¼š

1. ä½¿ç”¨ ES6 çš„ Array.from

```tsx
const arr = [1, 2, 3, 4, 3];
const newArr = Array.from(new Set(arr))
console.log('newArr: ', newArr);
// newArr: [1, 2, 3, 4]
```

æ€»ç»“ï¼šæ—¥å¸¸å¼€å‘ä¸­ï¼Œå¯ä»¥åªè®°æœ€ç®€å•çš„æ–¹æ³•ï¼Œå¤æ‚çš„æ–¹æ³•éƒ½å¯ä»¥åœ¨ Google ä¸­æœç´¢åˆ°ï¼Œç”¨åˆ°çš„æ—¶å€™æœå°±å¯ä»¥äº†ï¼Œæˆ‘ç›¸ä¿¡è¿™äº›æ–¹æ³•ç”¨çš„å¤šäº†è‡ªç„¶è€Œç„¶å°±è®°ä½äº†ï¼Œç†Ÿèƒ½ç”Ÿå·§å˜›ï½å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸ŠğŸ‘†
